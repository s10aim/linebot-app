<div class="post-container mb-3">
  <h1 class="text-center mb-4">編集</h1>
  <%= form_with model: @post, local: true, id: "post-form" do |form| %>
    <div class="form-group">
      <%= form.label :title %>
      <%= form.text_field :title, class: "form-control", id: "post-text-title" %>
      <div class="invalid-feedback">
        同じキーワードがすでに存在しています。
      </div>
    </div>
    <% if @post.content.present? %>
      <div>
        <%= form.label :content %>
        <%= form.text_area :content, class: "form-control mb-2", rows: 7 %>
      </div>
      <div class="custom-control custom-switch">
        <%= form.check_box :random, class: "custom-control-input", id: "content-random" %>
        <%= form.label :random, class: "custom-control-label", for: "content-random" %>
      </div>
      <div class="text-right">
        <%= form.submit "送信", class: "btn btn-outline-dark mt-3 mb-5", id: "edit-text-btn" %>
      </div>
    <% else %>
      <div class="edit-images">
        <% @post.images.each_with_index do |image, index| %>
          <div class="edit">
            <%= image_tag image.url, class: "post-img" %>
            <div id="<%= index %>" class="edit-btn">
              <i class="fas fa-times-circle fa-lg"></i>
            </div>
          </div>
        <% end %>
      </div>
      <div id="post-dropzone"></div>
      <div class="custom-control custom-switch">
        <%= form.check_box :random, class: "custom-control-input", id: "drop-random" %>
        <%= form.label :random, class: "custom-control-label", for: "drop-random" %>
      </div>
      <div class="text-right">
        <%= form.submit "送信", class: "btn btn-outline-dark mt-3 mb-5", id: "edit-drop-btn" %>
      </div>
    <% end %>
  <% end %>
</div>
<div id="keywords" data-keywords='<%= @keywords %>'></div>
